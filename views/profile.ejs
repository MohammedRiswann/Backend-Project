<!-- profile.ejs -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Add your head content -->
  </head>
  <body>
    <h1>User Profile</h1>
    <% if (email) { %>
    <p>Email: <%= email %></p>
    <% if (existingProfile) { %>
    <!-- Display user details -->
    <% if (existingProfile.name) { %>
    <p>Name: <%= existingProfile.name %></p>
    <% } %> <% if (existingProfile.address) { %>
    <p>Address: <%= existingProfile.address %></p>
    <% } %> <% if (existingProfile.phoneNumber) { %>
    <p>Phone Number: <%= existingProfile.phoneNumber %></p>
    <% } %>

    <!-- Edit button to toggle edit mode -->
    <a href="/user/edit-profile">Edit Profile</a>

    <% } else { %>
    <!-- Form to add profile details -->
    <h2>Add Profile Details</h2>
    <form action="/user/profile" method="POST">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required />
      <label for="address">Address:</label>
      <input type="text" id="address" name="address" required />
      <label for="phoneNumber">Phone Number:</label>
      <input type="text" id="phoneNumber" name="phoneNumber" required />
      <button type="submit">Save</button>
    </form>
    <% } %> <% } else { %>
    <p>No user email available.</p>
    <% } %>
  </body>
</html>
